V1.0.2.14__TRANSACTION.sql


IF OBJECT_ID('dbo.[transaction]', 'U') IS NOT NULL
BEGIN
    PRINT 'transaction table exists';
END
ELSE
BEGIN
    PRINT 'transaction table is created';

    DROP TABLE IF EXISTS dbo.[transaction];

    CREATE TABLE dbo.[transaction]
    (
        transaction_id        BIGINT IDENTITY(1,1) PRIMARY KEY,
        [type]                VARCHAR(255),
        extractDate           DATE,
        transactionDateTime   DATETIME2,
        unit                  VARCHAR(255),

        created_ts            DATETIME2 DEFAULT SYSDATETIME(),
        updated_ts            DATETIME2 DEFAULT SYSDATETIME()
    );
END

SELECT * 
FROM flyway_schema_history
ORDER BY installed_rank DESC;