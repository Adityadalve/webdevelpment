USE T_Hub;
GO

IF NOT EXISTS (
    SELECT 1
    FROM sys.tables
    WHERE name = 'stg_fi_bond_trade'
      AND schema_id = SCHEMA_ID('dbo')
)
BEGIN
    CREATE TABLE dbo.stg_fi_bond_trade (
        trade_id         VARCHAR(50),
        product_type     VARCHAR(30),
        isin             VARCHAR(12),
        notional         DECIMAL(18,2),
        currency          CHAR(3),
        price            DECIMAL(18,6),
        trade_date       DATETIME2,
        settlement_date  DATETIME2,
        source_system    VARCHAR(30),
        ingestion_ts     DATETIME2 DEFAULT SYSDATETIME()
    );
END;
GO